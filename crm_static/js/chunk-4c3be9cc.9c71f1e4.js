(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c3be9cc"],{2621:function(e,t){t.f=Object.getOwnPropertySymbols},"3c5a":function(e,t,a){},"42d7":function(e,t,a){},4917:function(e,t,a){"use strict";var n=a("cb7c"),i=a("9def"),l=a("0390"),o=a("5f1b");a("214f")("match",1,function(e,t,a,r){return[function(a){var n=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=r(a,e,this);if(t.done)return t.value;var s=n(e),c=String(this);if(!s.global)return o(s,c);var d=s.unicode;s.lastIndex=0;var p,u=[],f=0;while(null!==(p=o(s,c))){var m=String(p[0]);u[f]=m,""===m&&(s.lastIndex=l(c,i(s.lastIndex),d)),f++}return 0===f?null:u}]})},"6af3":function(e,t,a){"use strict";var n=a("3c5a"),i=a.n(n);i.a},7291:function(e,t,a){"use strict";var n=a("42d7"),i=a.n(n);i.a},73334:function(e,t,a){"use strict";var n=a("0d58"),i=a("2621"),l=a("52a7"),o=a("4bf8"),r=a("626a"),s=Object.assign;e.exports=!s||a("79e5")(function(){var e={},t={},a=Symbol(),n="abcdefghijklmnopqrst";return e[a]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[a]||Object.keys(s({},t)).join("")!=n})?function(e,t){var a=o(e),s=arguments.length,c=1,d=i.f,p=l.f;while(s>c){var u,f=r(arguments[c++]),m=d?n(f).concat(d(f)):n(f),g=m.length,h=0;while(g>h)p.call(f,u=m[h++])&&(a[u]=f[u])}return a}:s},"914c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",[e._v("Upload 单文件上传")]),a("h3",[e._v("单文件上传")]),a("PExample",{attrs:{code:e.code}},[a("SingleUpload",{attrs:{upload:e.uploadInfo,imgW:300,imgH:100,sizeLimit:"1M"}})],1),a("h3",[e._v("属性")]),a("PAttrTable",{attrs:{data:e.attrs}}),a("h3",[e._v("事件")]),a("PEventTable",{attrs:{data:e.events}})],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",e._b({ref:"upload",staticClass:"avatar-uploader",attrs:{disabled:!!e.uploadedUrl,"show-file-list":!1,"on-success":e.handleSuccess,"on-error":e.handleError,"on-progress":e.handleRemove,"on-change":e.handleCheckedSize,"before-upload":e.handleUpload}},"el-upload",e.uploadInfo,!1),[e.uploadedUrl?a("div",{class:["avatar-wrapper","el-upload-list__item",e.focusing?"focusing":"","el-upload-list--picture-card"],style:e.uploadStyle,on:{focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},[a("img",{style:e.avatarStyle,attrs:{src:e.uploadedUrl}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-delete",on:{click:e.removePic}},[a("i",{staticClass:"el-icon-delete"})])])]):a("div",[e.fileprogress?a("i",{staticClass:"el-icon-loading avatar-uploader-icon",style:e.uploadStyle}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:e.uploadStyle})])])},o=[],r=(a("4917"),a("f751"),a("c5f6"),{name:"SingleUpload",props:{upload:{type:Object,default:function(){return{}}},imgW:{type:Number,default:178,desc:"图片显示组件的宽度"},imgH:{type:Number,default:178,desc:"图片显示组件的高度"},imageUrl:{type:String},sizeLimit:{type:String,default:"2M",desc:"上传图片大小限制"}},data:function(){return{focusing:!1,fileprogress:!1,exceedSize:!1,uploadedUrl:""}},watch:{imageUrl:{handler:function(e){this.uploadedUrl=e},immediate:!0}},computed:{uploadStyle:function(){return{width:this.imgW+"px",height:this.imgH+"px",lineHeight:this.imgH+"px"}},avatarStyle:function(){return{maxWidth:this.imgW+"px",maxHeight:this.imgH+"px"}},uploadInfo:function(){var e=Object.assign({accept:"image/gif, image/jpeg, image/jpg, image/png",name:"multiFile"},this.upload);return e},maxSize:function(){var e=this.sizeLimit,t="M",a=e.match(/(M|m)(B|b)*/);return a||(a=e.match(/(K|k)(B|b)*/),a?t="K":(t="",console.log("参数SizeLimit传递有错误，传递的单位非K或者M"))),a?{unit:t,size:e.substring(0,a.index).trim()}:{unit:"M",size:2}}},methods:{handleRemove:function(e,t){this.fileprogress=!0},handleSuccess:function(e){this.fileprogress=!1,200!==e.code?this.$confirm(e.message,"提示信息").catch(function(){}):(this.uploadedUrl=e.data.accessUrl,this.$emit("back-event",{imageUrl:e.data.accessUrl}))},handleError:function(){this.$confirm("服务端异常","提示信息").catch(function(){})},removePic:function(){var e=this;this.$confirm("确定要删除?","提示信息").then(function(){e.uploadedUrl="",e.$emit("back-event",{imageUrl:""})}).catch(function(){})},handleCheckedSize:function(e,t){"K"===this.maxSize.unit?this.exceedSize=e.size/1024>this.maxSize.size:this.exceedSize=e.size/1048576>this.maxSize.size},handleUpload:function(e){return this.exceedSize?(this.$message({message:"建议不要超过".concat(this.maxSize.size).concat(this.maxSize.unit),type:"warning"}),!1):this.uploadInfo.accept.indexOf(e.type)<=-1?(this.$message.error("上传文件格式不正确!"),!1):void 0}}}),s=r,c=(a("7291"),a("2877")),d=Object(c["a"])(s,l,o,!1,null,"6186ea1f",null);d.options.__file="HSingleUpload.vue";var p=d.exports,u=a("9fd4"),f=a("4393"),m=a("65d2"),g=a("da71"),h={name:"upload",components:{SingleUpload:p,PAttrTable:u["a"],PEventTable:f["a"],PExample:m["a"]},data:function(){return{attrs:[{param:"upload",desc:'ElementUI的el-upload可设置的参数，通过该参数传递<br/><br/>参数举例：<br/>\n                    {\n                        <p style="padding-left: 20px">action: uploadUrl + \'/files/upload\',</p>\n                        <p style="padding-left: 20px">data: {</p>\n                        <p style="padding-left: 40px">  updateUid: \'Hosjoy\'</p>\n                        <p style="padding-left: 20px">},</p>\n                        <p style="padding-left: 20px">accept: \'image/jpeg, image/jpg, image/png\'</p>\n                    }<br/><br/>\n                    Element参数说明：\n                    <a href="https://element.eleme.io/#/attribute" target="_blank">上传组件参数</a><br/><br/>\n                    必填说明：\n                    action为必填项',type:"Object",optional:"-",default:"-"},{param:"imgW",desc:"图片显示组件的宽度",type:"Number",optional:"-",default:"178"},{param:"imgH",desc:"图片显示组件的高度",type:"Number",optional:"-",default:"178"},{param:"imageUrl",desc:"已经上传的图片URL，用于修改页面，已经存在图片的情况下，传递已经存在的图片的url",type:"String",optional:"-",default:"-"},{param:"sizeLimit",desc:"上传图片大小限制<br/><br/>举例：1M, 1MB, 500K, 500KB",type:"String",optional:"-",default:"2M"}],events:[{name:"back-event",desc:"处理从SingleUpload传递回父组件的imageUrl",param:"{\n                        imageUrl: ''\n                    }"}],code:"\n<template>\n    <SingleUpload\n        :upload=\"uploadInfo\"\n        :imgW=\"300\"\n        :imgH=\"100\"\n        sizeLimit=\"1M\"/>\n</template>\n\n<script>\n    import SingleUpload from '@/components/HSingleUpload.vue'\n    import { interfaceUrl } from '@/api/config'\n\n    export default {\n        name: 'upload-demo',\n        components: {\n            SingleUpload\n        },\n        computed: {\n            uploadInfo () {\n                return {\n                    action: interfaceUrl + '/api/httpH5/upload/6999',\n                    data: {\n                        updateUid: 'Hosjoy'\n                    },\n                    name: 'multiFile'\n                }\n            }\n        }\n    }\n<\/script>"}},computed:{uploadInfo:function(){return{action:g["b"]+"/api/httpH5/upload/6999",data:{updateUid:"Hosjoy"},name:"multiFile"}}}},v=h,b=(a("6af3"),Object(c["a"])(v,n,i,!1,null,"c246b2e0",null));b.options.__file="SingleUpload.vue";t["default"]=b.exports},f751:function(e,t,a){var n=a("5ca1");n(n.S+n.F,"Object",{assign:a("73334")})}}]);
//# sourceMappingURL=chunk-4c3be9cc.9c71f1e4.js.map
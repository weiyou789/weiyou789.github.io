(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-196a92dd"],{"0c3b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h2",[t._v("Upload 多文件上传")]),i("h3",[t._v("多文件上传")]),i("PExample",{attrs:{code:t.code}},[i("MultiUpload",{attrs:{fileList:t.fileList}})],1),i("h3",[t._v("属性")]),i("PAttrTable",{attrs:{data:t.attrs}}),i("h3",[t._v("事件")]),i("PEventTable",{attrs:{data:t.events}})],1)},a=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-upload",t._b({attrs:{multiple:"","show-file-list":!1,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"before-upload":t.beforeAvatarUpload,"list-type":"picture","file-list":t.fileList}},"el-upload",t.uploadInfo,!1),[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.btnText))]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.uploadTip))])],1),"pic"===t.fileType?i("ul",{staticClass:"upload-list"},t._l(t.imgList,function(e){return i("li",{key:e.url,class:["avatar-wrapper","el-upload-list__item",t.focusing?"focusing":"","el-upload-list--picture-card"],style:t.uploadStyle,on:{focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},[i("img",{style:t.avatarStyle,attrs:{src:e.url}}),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(i){t.onRemovePic(e)}}},[i("i",{staticClass:"el-icon-delete"})])])])})):i("ul",{staticClass:"upload-list"},t._l(t.imgList,function(e){return i("li",{key:e.url,class:["upload-list-item"],style:t.uploadStyle,on:{focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},[i("a",{staticClass:"upload-list-text",attrs:{href:e.url}},[t._v(t._s(e.name))]),i("i",{staticClass:"el-icon-close",on:{click:function(i){t.onRemovePic(e)}}})])}))],1)},l=[],c=(i("7f7f"),i("4917"),i("f751"),i("be94")),o=(i("c5f6"),i("2f62")),u=i("da71"),r={name:"MultiUpload",props:{upload:{type:Object,default:function(){return{}}},btnText:{type:String,default:"点击上传",desc:"上传按钮名称"},uploadTip:{type:String,default:"支持jpg，jpeg，png，gif格式，且不超过2MB",desc:"上传限制提示信息"},sizeLimit:{type:String,default:"2M",desc:"上传图片大小限制"},imgW:{type:Number,default:178,desc:"图片显示组件的宽度"},imgH:{type:Number,default:178,desc:"图片显示组件的高度"},fileList:{type:Array,default:function(){return[]},desc:"已上传的文件列表"},fileType:{type:String,default:"pic",desc:"上传的文件类型，pic或者text"}},data:function(){return{focusing:!1,imgList:[]}},computed:Object(c["a"])({uploadStyle:function(){return"pic"===this.fileType?{width:this.imgW+"px",height:this.imgH+"px",lineHeight:this.imgH+"px"}:{}},avatarStyle:function(){return{maxWidth:this.imgW+"px",maxHeight:this.imgH+"px"}},uploadInfo:function(){return Object.assign({action:u["b"]+"/api/httpH5/upload/6999",data:{updateUid:this.userInfo.uid},accept:"image/gif, image/jpeg, image/jpg, image/png",name:"multiFile",limit:5},this.upload)},maxSize:function(){var t=this.sizeLimit,e="M",i=t.match(/(M|m)(B|b)*/);return i||(i=t.match(/(K|k)(B|b)*/),i?e="K":(e="",console.log("参数SizeLimit传递有错误，传递的单位非K或者M"))),i?{unit:e,size:t.substring(0,i.index).trim()}:{unit:"M",size:2}}},Object(o["b"])({userInfo:function(t){return t.userInfo}})),watch:{fileList:{immediate:!0,handler:function(t){this.imgList=t.slice()}}},methods:{beforeAvatarUpload:function(t){var e=!1;return e="K"===this.maxSize.unit?t.size/1024>this.maxSize.size:t.size/1048576>this.maxSize.size,e&&this.$message.error("上传图片大小不能超过 ".concat(this.maxSize.size).concat(this.maxSize.unit,"B!")),!e},handleSuccess:function(t,e,i){200!=t.code?this.$confirm(t.message,"提示信息").catch(function(){}):(this.imgList.push({name:e.name,url:t.data.accessUrl}),this.$emit("back-event",{imageList:this.imgList}))},handleExceed:function(t,e){this.$message({message:"上传图片大于".concat(this.uploadInfo.limit,"张"),type:"warning"})},onRemovePic:function(t){this.imgList.splice(this.imgList.indexOf(t),1),this.$emit("back-event",{imageList:this.imgList})}}},p=r,f=(i("6b49"),i("2877")),d=Object(f["a"])(p,s,l,!1,null,"25142bed",null);d.options.__file="HMultiUpload.vue";var m=d.exports,g=i("9fd4"),h=i("4393"),b=i("65d2"),v={name:"multi-upload",components:{MultiUpload:m,PAttrTable:g["a"],PEventTable:h["a"],PExample:b["a"]},data:function(){return{fileList:[{name:"1.jpg",url:"http://172.16.168.8:8082/images/20190307/2432a0a2-4813-429d-8cc3-22fb345b2635.jpg"},{name:"2.jpg",url:"http://172.16.168.8:8082/images/20190307/3db4a933-98f0-4e85-9e1e-dd2a83dc45fd.jpg"}],attrs:[{param:"upload",desc:"ElementUI的el-upload可设置的参数，使用该参数传递",type:"Object",optional:"-",default:"-"},{param:"btnText",desc:"上传按钮的名称",type:"String",optional:"-",default:"点击上传"},{param:"uploadTip",desc:"上传限制的描述信息",type:"String",optional:"-",default:"支持jpg，jpeg，png格式，且不超过2MB"},{param:"sizeLimit",desc:"上传图片大小限制 举例：1M, 1MB, 500K, 500KB",type:"String",optional:"-",default:"2M"}],events:[{name:"back-event",desc:"处理从SingleUpload传递回父组件的imageListl",param:"{\n                        imageList: ''\n                    }"}],code:"\n<template>\n    <MultiUpload />\n</template>\n\n<script>\n    import MultiUpload from '@/components/HMultiUpload.vue'\n\n    export default {\n        name: 'upload-demo',\n        components: {\n            MultiUpload\n        }\n    }\n<\/script>"}}},y=v,x=(i("18d1"),Object(f["a"])(y,n,a,!1,null,"49129cab",null));x.options.__file="MultiUpload.vue";e["default"]=x.exports},"18d1":function(t,e,i){"use strict";var n=i("cce5"),a=i.n(n);a.a},2621:function(t,e){e.f=Object.getOwnPropertySymbols},4917:function(t,e,i){"use strict";var n=i("cb7c"),a=i("9def"),s=i("0390"),l=i("5f1b");i("214f")("match",1,function(t,e,i,c){return[function(i){var n=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=c(i,t,this);if(e.done)return e.value;var o=n(t),u=String(this);if(!o.global)return l(o,u);var r=o.unicode;o.lastIndex=0;var p,f=[],d=0;while(null!==(p=l(o,u))){var m=String(p[0]);f[d]=m,""===m&&(o.lastIndex=s(u,a(o.lastIndex),r)),d++}return 0===d?null:f}]})},"4d30":function(t,e,i){},"6b49":function(t,e,i){"use strict";var n=i("4d30"),a=i.n(n);a.a},73334:function(t,e,i){"use strict";var n=i("0d58"),a=i("2621"),s=i("52a7"),l=i("4bf8"),c=i("626a"),o=Object.assign;t.exports=!o||i("79e5")(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=o({},t)[i]||Object.keys(o({},e)).join("")!=n})?function(t,e){var i=l(t),o=arguments.length,u=1,r=a.f,p=s.f;while(o>u){var f,d=c(arguments[u++]),m=r?n(d).concat(r(d)):n(d),g=m.length,h=0;while(g>h)p.call(d,f=m[h++])&&(i[f]=d[f])}return i}:o},"7f7f":function(t,e,i){var n=i("86cc").f,a=Function.prototype,s=/^\s*function ([^ (]*)/,l="name";l in a||i("9e1e")&&n(a,l,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},be94:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("ade3");function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){Object(n["a"])(t,e,i[e])})}return t}},cce5:function(t,e,i){},f751:function(t,e,i){var n=i("5ca1");n(n.S+n.F,"Object",{assign:i("73334")})}}]);
//# sourceMappingURL=chunk-196a92dd.a4a3ac01.js.map